:root{
  --bg1:#fff0f6;
  --bg2:#ffe9f2;
  --ink:#231f29;
  --muted:#6d6478;
  --card:#ffffffcc;
  --stroke:#ffffff;
  --shadow: 0 20px 60px rgba(36, 14, 27, .18);
  --radius: 26px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink);
  background:
    radial-gradient(1200px 700px at 10% 10%, #ffd1e6 0%, transparent 60%),
    radial-gradient(900px 600px at 90% 20%, #ffe4b8 0%, transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

.wrap{
  min-height:100%;
  display:grid;
  place-items:center;
  padding:24px;
}

.card{
  width:min(560px, 92vw);
  background:var(--card);
  border:1px solid rgba(255,255,255,.8);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  padding:28px 22px;
  position:relative;
  backdrop-filter: blur(10px);
  overflow:hidden;
  animation: popIn .7s cubic-bezier(.2,.9,.2,1) both;
}

@keyframes popIn{
  from{ transform: translateY(12px) scale(.98); opacity:0; }
  to{ transform: translateY(0) scale(1); opacity:1; }
}

.title{
  margin: 6px 0 18px;
  text-align:center;
  letter-spacing:-.02em;
  line-height:1.05;
  font-weight:800;
}

.title.big{
  font-size: clamp(28px, 4.6vw, 40px);
}

.hint{
  margin:14px 0 0;
  text-align:center;
  color:var(--muted);
  font-size: 14px;
}

.hero .title{
  font-size: clamp(34px, 5.4vw, 54px);
}

.photo-wrap{
  width:min(320px, 72vw);
  margin: 0 auto 18px;
  position:relative;
}

.photo{
  width:100%;
  aspect-ratio: 1 / 1;
  object-fit:cover;
  border-radius: 22px;
  border: 6px solid var(--stroke);
  box-shadow: 0 12px 40px rgba(40, 10, 30, .16);
  transform: rotate(-1.5deg);
  animation: floaty 3.2s ease-in-out infinite;
}

@keyframes floaty{
  0%,100%{ transform: translateY(0) rotate(-1.5deg); }
  50%{ transform: translateY(-10px) rotate(1deg); }
}

.sticker{
  position:absolute;
  display:grid;
  place-items:center;
  width:54px;
  height:54px;
  border-radius: 18px;
  background:#ffffffd6;
  border:1px solid rgba(255,255,255,.9);
  box-shadow: 0 10px 24px rgba(30, 10, 20, .12);
  font-size:24px;
  animation: wiggle 2.8s ease-in-out infinite;
}
.s1{ left:-14px; top:-14px; transform: rotate(-14deg); }
.s2{ right:-16px; top:14px; transform: rotate(12deg); animation-delay:.2s; }
.s3{ left:18px; bottom:-18px; transform: rotate(8deg); animation-delay:.4s; }

@keyframes wiggle{
  0%,100%{ transform: translateY(0) rotate(var(--r, 0deg)); }
  50%{ transform: translateY(-6px) rotate(calc(var(--r, 0deg) + 6deg)); }
}

.btn{
  appearance:none;
  border:0;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding: 14px 18px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 16px;
  text-decoration:none;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}

.btn:active{ transform: scale(.98); }

.primary{
  background: linear-gradient(135deg, #ff4fa3, #ff8cc6);
  color:white;
  box-shadow: 0 16px 30px rgba(255, 79, 163, .28);
}
.primary:hover{ filter: brightness(1.02); transform: translateY(-1px); }

.ghost{
  background:#ffffffd6;
  color:var(--ink);
  border:1px solid rgba(255,255,255,.9);
  box-shadow: 0 12px 24px rgba(30, 10, 20, .10);
}
.ghost:hover{ transform: translateY(-1px); }

.btn-row{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top: 10px;
  position:relative;
  min-height: 64px;
}

/* “No” will become absolute while dodging */
#noBtn.is-floating{
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%, -50%);
}

.success{
  margin-top:18px;
  display:grid;
  place-items:center;
  gap:10px;
  animation: fadeUp .5s ease both;
}
@keyframes fadeUp{
  from{ opacity:0; transform: translateY(8px); }
  to{ opacity:1; transform: translateY(0); }
}
.success-text{
  margin:0;
  font-weight:900;
  font-size: 18px;
}

.gif{
  width:min(340px, 78vw);
  border-radius: 20px;
  border: 6px solid var(--stroke);
  box-shadow: 0 12px 40px rgba(40, 10, 30, .14);
}

.confetti{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

.sparkle{
  position:absolute;
  inset:-40%;
  pointer-events: none;   /* ✅ add this */
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.8), transparent 30%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,.6), transparent 35%),
    radial-gradient(circle at 40% 80%, rgba(255,255,255,.5), transparent 28%);
  filter: blur(6px);
  opacity:.55;
  animation: shimmer 4.5s ease-in-out infinite;
}

@keyframes shimmer{
  0%,100%{ transform: translateY(0) rotate(0deg); }
  50%{ transform: translateY(-10px) rotate(3deg); }
}

@media (max-width: 420px){
  .card{ padding: 22px 16px; }
  .btn{ width: 100%; }
  .btn-row{ width:100%; }
}

.success[hidden]{ display:none !important; }

